{"version":3,"file":"primeng-usestyle.mjs","sources":["../../src/usestyle/usestyle.ts","../../src/usestyle/primeng-usestyle.ts"],"sourcesContent":["import { DOCUMENT } from '@angular/common';\nimport { Injectable, inject } from '@angular/core';\nimport { setAttribute, setAttributes } from '@primeuix/utils';\n\nlet _id = 0;\n\n@Injectable({ providedIn: 'root' })\nexport class UseStyle {\n    document: Document = inject(DOCUMENT);\n\n    use(css, options: any = {}) {\n        let isLoaded = false;\n        let cssRef = css;\n        let styleRef: HTMLStyleElement | null = null;\n\n        const { immediate = true, manual = false, name = `style_${++_id}`, id = undefined, media = undefined, nonce = undefined, first = false, props = {} } = options;\n\n        if (!this.document) return;\n        styleRef = (this.document.querySelector(`style[data-primeng-style-id=\"${name}\"]`) || (id && this.document.getElementById(id)) || this.document.createElement('style')) as HTMLStyleElement;\n\n        if (styleRef) {\n            if (!styleRef.isConnected) {\n                cssRef = css;\n\n                const HEAD = this.document.head;\n\n                setAttribute(styleRef, 'nonce', nonce);\n\n                first && HEAD.firstChild ? HEAD.insertBefore(styleRef, HEAD.firstChild) : HEAD.appendChild(styleRef);\n                setAttributes(styleRef, {\n                    type: 'text/css',\n                    media,\n                    nonce,\n                    'data-primeng-style-id': name\n                });\n            }\n\n            if (styleRef.textContent !== cssRef) {\n                styleRef.textContent = cssRef;\n            }\n        }\n\n        return {\n            id,\n            name,\n            el: styleRef,\n            css: cssRef\n        };\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;AAIA,IAAI,GAAG,GAAG,CAAC;MAGE,QAAQ,CAAA;AACjB,IAAA,QAAQ,GAAa,MAAM,CAAC,QAAQ,CAAC;AAErC,IAAA,GAAG,CAAC,GAAG,EAAE,OAAA,GAAe,EAAE,EAAA;QACtB,IAAI,QAAQ,GAAG,KAAK;QACpB,IAAI,MAAM,GAAG,GAAG;QAChB,IAAI,QAAQ,GAA4B,IAAI;AAE5C,QAAA,MAAM,EAAE,SAAS,GAAG,IAAI,EAAE,MAAM,GAAG,KAAK,EAAE,IAAI,GAAG,CAAA,MAAA,EAAS,EAAE,GAAG,CAAA,CAAE,EAAE,EAAE,GAAG,SAAS,EAAE,KAAK,GAAG,SAAS,EAAE,KAAK,GAAG,SAAS,EAAE,KAAK,GAAG,KAAK,EAAE,KAAK,GAAG,EAAE,EAAE,GAAG,OAAO;QAE9J,IAAI,CAAC,IAAI,CAAC,QAAQ;YAAE;AACpB,QAAA,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAA,6BAAA,EAAgC,IAAI,CAAA,EAAA,CAAI,CAAC,KAAK,EAAE,IAAI,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAqB;QAE1L,IAAI,QAAQ,EAAE;AACV,YAAA,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE;gBACvB,MAAM,GAAG,GAAG;AAEZ,gBAAA,MAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI;AAE/B,gBAAA,YAAY,CAAC,QAAQ,EAAE,OAAO,EAAE,KAAK,CAAC;gBAEtC,KAAK,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;gBACpG,aAAa,CAAC,QAAQ,EAAE;AACpB,oBAAA,IAAI,EAAE,UAAU;oBAChB,KAAK;oBACL,KAAK;AACL,oBAAA,uBAAuB,EAAE;AAC5B,iBAAA,CAAC;YACN;AAEA,YAAA,IAAI,QAAQ,CAAC,WAAW,KAAK,MAAM,EAAE;AACjC,gBAAA,QAAQ,CAAC,WAAW,GAAG,MAAM;YACjC;QACJ;QAEA,OAAO;YACH,EAAE;YACF,IAAI;AACJ,YAAA,EAAE,EAAE,QAAQ;AACZ,YAAA,GAAG,EAAE;SACR;IACL;uGAzCS,QAAQ,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA;AAAR,IAAA,OAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,QAAQ,cADK,MAAM,EAAA,CAAA;;2FACnB,QAAQ,EAAA,UAAA,EAAA,CAAA;kBADpB,UAAU;mBAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;ACNlC;;AAEG;;;;"}