import{a as Z,d as ee,e as te,k as ie}from"./chunk-GPR2OA7G.js";import"./chunk-BUCCL4KA.js";import"./chunk-TSNKXJDB.js";import"./chunk-QMHYMIU2.js";import"./chunk-7QQHLBHI.js";import"./chunk-AWPNV6PQ.js";import"./chunk-FJPTCACC.js";import"./chunk-KOGGEARO.js";import"./chunk-3EZ22QB4.js";import"./chunk-WW7GWAMZ.js";import{a as q,b as J}from"./chunk-HGA4HHWU.js";import"./chunk-AYSUNDPW.js";import"./chunk-2V665DMQ.js";import"./chunk-ZVAUUBFS.js";import"./chunk-YAHPY4L6.js";import"./chunk-URLMPWYE.js";import"./chunk-U45QCET5.js";import"./chunk-43ZBVLXQ.js";import"./chunk-WYYYCDFM.js";import"./chunk-DRW73UVK.js";import"./chunk-PIH2IZGE.js";import"./chunk-ZSJP3KVP.js";import"./chunk-M3ICSFPT.js";import"./chunk-76Z42HQQ.js";import"./chunk-PADEYSER.js";import{a as K,b as W}from"./chunk-XD75ZCDY.js";import{a as G}from"./chunk-E5OHP2EL.js";import{a as ne,b as re}from"./chunk-NWCMKTK5.js";import{a as oe,b as le}from"./chunk-HXOE4ZZA.js";import"./chunk-DWUVJCDK.js";import"./chunk-U6W4ZOZQ.js";import"./chunk-GZ2TN252.js";import"./chunk-X4BBC4A3.js";import"./chunk-WMMV7Y5Z.js";import"./chunk-FVBDSXJ7.js";import"./chunk-J44ZHNIW.js";import{b as Q}from"./chunk-5YHCM6BB.js";import"./chunk-BODZH67C.js";import"./chunk-7UZYWCAJ.js";import{a as X,b as V,d as Y}from"./chunk-MRXEPQQC.js";import"./chunk-YSV4FEGF.js";import{i as T}from"./chunk-WPF24WGD.js";import"./chunk-4O3FVBGX.js";import"./chunk-5IEWOUYS.js";import{ra as M,va as H}from"./chunk-U7ZBBLWD.js";import{i as A,j as I,k as $,t as U}from"./chunk-WLQFZU5C.js";import{$ as c,Fb as h,Ja as O,Jb as _,Lb as f,Na as a,Pb as R,Qb as D,R as P,Rb as L,Ta as S,Ub as E,V as B,Xb as b,Yb as z,Za as w,Zb as p,_b as x,aa as u,db as g,fc as F,gc as C,uc as N,vb as m,wb as i,xb as n,yb as s}from"./chunk-TDJGN2RG.js";import"./chunk-GAL4ENT6.js";var y=class r{constructor(t){this.http=t}getFiles(){return this.http.get("/demo/data/file-management.json").toPromise().then(t=>t.files).then(t=>t)}getMetrics(){return this.http.get("/demo/data/file-management.json").toPromise().then(t=>t.metrics).then(t=>t)}getFoldersSmall(){return this.http.get("/demo/data/file-management.json").toPromise().then(t=>t.folders_small).then(t=>t)}getFoldersLarge(){return this.http.get("/demo/data/file-management.json").toPromise().then(t=>t.folders_large).then(t=>t)}static \u0275fac=function(e){return new(e||r)(B(Q))};static \u0275prov=P({token:r,factory:r.\u0275fac})};var ye=["buttonEl"],Se=()=>({cursor:"copy"}),be=()=>({padding:"1px"});function Ce(r,t){r&1&&(i(0,"div",9),s(1,"i",10),i(2,"span",11),p(3,"Upload Files"),n(),i(4,"span",12),p(5,"Drop or select files"),n()())}function we(r,t){if(r&1){let e=h();i(0,"div",15),_("mouseenter",function(){let l=c(e).$implicit,d=f(3);return u(d.onImageMouseOver(l))})("mouseleave",function(){let l=c(e).$implicit,d=f(3);return u(d.onImageMouseLeave(l))}),i(1,"div",16),s(2,"img",17),i(3,"button",18,2),_("click",function(l){let d=c(e).$implicit,v=f(3);return u(v.removeImage(l,d))}),s(5,"i",19),n()()()}if(r&2){let e=t.$implicit;a(),b(C(5,be)),a(),m("src",e.objectURL,O)("alt",e.name),a(),m("id",e.name)}}function Ee(r,t){if(r&1&&(i(0,"div",13),g(1,we,6,6,"div",14),n()),r&2){let e=f(2);b(C(3,Se)),a(),m("ngForOf",e.uploadedFiles)}}function Fe(r,t){if(r&1){let e=h();i(0,"div",6),_("click",function(){c(e),f();let l=E(3);return u(l.advancedFileInput.nativeElement.click())}),g(1,Ce,6,0,"div",7)(2,Ee,2,4,"div",8),n()}if(r&2){let e=f();a(),m("ngIf",!e.uploadedFiles.length),a(),m("ngIf",e.uploadedFiles.length)}}var k=class r{constructor(t){this.messageService=t}uploadedFiles=[];buttonEl;onUpload(t){for(let e of t.files)this.uploadedFiles.push(e);this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully"})}onImageMouseOver(t){this.buttonEl.toArray().forEach(e=>{e.nativeElement.id===t.name&&(e.nativeElement.style.display="flex")})}onImageMouseLeave(t){this.buttonEl.toArray().forEach(e=>{e.nativeElement.id===t.name&&(e.nativeElement.style.display="none")})}removeImage(t,e){t.stopPropagation(),this.uploadedFiles=this.uploadedFiles.filter(o=>o!==e)}static \u0275fac=function(e){return new(e||r)(S(M))};static \u0275cmp=w({type:r,selectors:[["app-file-uploader"]],viewQuery:function(e,o){if(e&1&&R(ye,5),e&2){let l;D(l=L())&&(o.buttonEl=l)}},features:[F([M])],decls:6,vars:5,consts:[["fileUploader",""],["content",""],["buttonEl",""],["key","fu"],[1,"card"],["name","demo[]","url","./upload.php","accept","image/*",1,"upload-button-hidden","w-full",3,"onUpload","onSelect","customUpload","multiple","showUploadButton","showCancelButton","auto"],[1,"w-full","py-4",2,"cursor","copy",3,"click"],["class","h-full flex flex-col justify-center items-center",4,"ngIf"],["class","w-full py-4",3,"style",4,"ngIf"],[1,"h-full","flex","flex-col","justify-center","items-center"],[1,"pi","pi-upload","text-surface-900","dark:text-surface-0","text-2xl","mb-4"],[1,"font-bold","text-surface-900","dark:text-surface-0","text-xl","mb-4"],[1,"font-medium","text-surface-600","dark:text-surface-200","text-md","text-center"],[1,"w-full","py-4"],["class","flex flex-wrap gap-8","style","padding: 1px;",3,"mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-8",2,"padding","1px",3,"mouseenter","mouseleave"],[1,"remove-file-wrapper","relative","w-28","h-28","border-4","border-transparent","rounded","hover:bg-primary","hover:text-primary-contrast","duration-100","cursor-auto"],[1,"w-full","h-full","rounded","shadow",3,"src","alt"],["pButton","","pRipple","","rounded","","type","button",1,"remove-button","text-sm","absolute","justify-center","items-center","cursor-pointer",2,"top","-10px","right","-10px","display","none",3,"click","id"],["pButtonIcon","",1,"pi","pi-times"]],template:function(e,o){if(e&1){let l=h();s(0,"p-toast",3),i(1,"div",4)(2,"p-fileupload",5,0),_("onUpload",function(v){return c(l),u(o.onUpload(v))})("onSelect",function(v){return c(l),u(o.onUpload(v))}),g(4,Fe,3,2,"ng-template",null,1,N),n()()}e&2&&(a(2),m("customUpload",!0)("multiple",!0)("showUploadButton",!0)("showCancelButton",!1)("auto",!0))},dependencies:[le,oe,re,ne,U,I,$,V,T,X],styles:["[_nghost-%COMP%]     .p-fileupload-header{display:none}[_nghost-%COMP%]     .p-fileupload{border:none}[_nghost-%COMP%]     .p-fileupload-file-list{display:none}"]})};var Ie=()=>({width:"200px"});function Ue(r,t){if(r&1){let e=h();i(0,"div",28)(1,"div",29)(2,"div",30)(3,"span",31),p(4),n(),i(5,"div")(6,"button",32),_("click",function(l){c(e);let d=E(8);return u(d.toggle(l))}),n(),s(7,"p-menu",33,1),n()(),i(9,"div")(10,"div",34),s(11,"div",35),n(),i(12,"div",36)(13,"span",37),p(14),n(),i(15,"span",37),p(16),n()()()()()}if(r&2){let e=t.$implicit,o=f();a(4),x(e.title),a(2),m("icon",e.icon),a(),m("popup",!0)("model",o.menuitems),a(3),m("ngClass",e.color),a(),m("ngClass",e.fieldColor),a(3),x(e.files),a(2),x(e.fileSize)}}function Me(r,t){if(r&1&&(i(0,"div",38)(1,"div",39)(2,"div",14),s(3,"i",40),i(4,"span",41),p(5),n()(),i(6,"span",42),p(7),n()()()),r&2){let e=t.$implicit;a(3),m("ngClass",e.icon),a(2),x(e.name),a(2),x(e.size)}}function Te(r,t){r&1&&(i(0,"tr")(1,"th",43),p(2,"Name "),s(3,"p-sortIcon",44),n(),i(4,"th",45),p(5,"Date "),s(6,"p-sortIcon",46),n(),i(7,"th",47),p(8," File Size "),s(9,"p-sortIcon",48),n(),s(10,"th",49),n())}function Ve(r,t){if(r&1&&(i(0,"tr")(1,"td")(2,"div",14),s(3,"i"),i(4,"span"),p(5),n()()(),i(6,"td")(7,"span"),p(8),n()(),i(9,"td")(10,"span"),p(11),n()(),i(12,"td",50),s(13,"button",51)(14,"button",52),n()()),r&2){let e=t.$implicit;a(3),z("text-xl text-primary mr-2 "+e.icon),a(2),x(e.name),a(3),x(e.date),a(3),x(e.fileSize)}}var pe=class r{constructor(t,e){this.fileService=t;this.layoutService=e;this.subscription=this.layoutService.configUpdate$.subscribe(o=>{this.initChart()})}fileChart;fileChartOptions;chartPlugins;files=[];metrics=[];folders=[];menuitems=[];subscription;ngOnInit(){this.fileService.getFiles().then(t=>this.files=t),this.fileService.getMetrics().then(t=>this.metrics=t),this.fileService.getFoldersLarge().then(t=>this.folders=t),this.initChart(),this.menuitems=[{label:"View",icon:"pi pi-search"},{label:"Refresh",icon:"pi pi-refresh"}]}initChart(){let t=getComputedStyle(document.documentElement),e=t.getPropertyValue("--text-color");this.chartPlugins=[{beforeDraw:function(o){let l=o.ctx,d=o.width,v=o.height,se=1.5,me=l.fillStyle;l.restore(),l.font=se+"rem sans-serif",l.textBaseline="middle";let j="Free Space",de="50GB / 80GB",ce=Math.round((d-l.measureText(j).width)/2),ue=(v+o.chartArea.top)/2.25,fe=Math.round((d-l.measureText(j).width)/2.1),xe=(v+o.chartArea.top)/1.75;l.fillStyle=o.config.data.datasets[0].backgroundColor[0],l.fillText(j,ce,ue),l.fillText(de,fe,xe),l.fillStyle=me,l.save()}}],this.fileChart={datasets:[{data:[300,100],backgroundColor:[t.getPropertyValue("--p-primary-600"),t.getPropertyValue("--p-primary-100")],hoverBackgroundColor:[t.getPropertyValue("--p-primary-700"),t.getPropertyValue("--p-primary-200")],borderColor:"transparent",fill:!0}]},this.fileChartOptions={animation:{duration:0},cutout:"90%",plugins:{legend:{labels:{color:e}}}}}static \u0275fac=function(e){return new(e||r)(S(y),S(G))};static \u0275cmp=w({type:r,selectors:[["app-files"]],features:[F([y])],decls:51,vars:11,consts:[["dt",""],["menu",""],[1,"grid","grid-cols-12","gap-4"],["class","col-span-12 md:col-span-6 lg:col-span-3",4,"ngFor","ngForOf"],[1,"col-span-12","md:col-span-5","xl:col-span-3"],[1,"card"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-semibold","mb-4"],[1,"flex","flex-row","justify-center",2,"height","200px"],["type","doughnut","id","country-chart",3,"plugins","data","options"],[1,"mt-8","flex","gap-4"],["pButton","","pRipple","","icon","pi pi-search","outlined","","label","Details",1,"flex-1"],["pButton","","pRipple","","icon","pi pi-upload","label","Upgrade",1,"flex-1"],[1,"list-none","p-0","m-0"],[1,"p-4","mb-4","flex","items-center","justify-between","cursor-pointer","rounded","bg-indigo-50","text-indigo-900"],[1,"flex","items-center"],[1,"pi","pi-image","text-2xl","mr-4"],[1,"text-lg","font-medium"],[1,"text-lg","font-bold"],[1,"p-4","mb-4","flex","items-center","justify-between","cursor-pointer","rounded","bg-purple-50","text-purple-900"],[1,"pi","pi-file","text-2xl","mr-4"],[1,"p-4","flex","items-center","justify-between","cursor-pointer","rounded","bg-teal-50","text-teal-900"],[1,"pi","pi-video","text-2xl","mr-4"],[1,"card","!p-0"],[1,"col-span-12","md:col-span-7","xl:col-span-9"],["class","col-span-12 md:col-span-6 xl:col-span-4",4,"ngFor","ngForOf"],["responsiveLayout","scroll",3,"value","rows","paginator"],["pTemplate","header"],["pTemplate","body"],[1,"col-span-12","md:col-span-6","lg:col-span-3"],[1,"card","h-full"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-surface-900","dark:text-surface-0","text-xl","font-semibold"],["pButton","","pRipple","","text","","rounded","","size","small",3,"click","icon"],["appendTo","body",3,"popup","model"],[1,"rounded",2,"height","6px",3,"ngClass"],[1,"!h-full","rounded",2,"width","34%",3,"ngClass"],[1,"flex","align-item-center","justify-between"],[1,"text-surface-900","dark:text-surface-0","mt-4","text-md","font-medium"],[1,"col-span-12","md:col-span-6","xl:col-span-4"],[1,"p-4","border","border-surface-200","dark:border-surface-700","flex","items-center","justify-between","hover:bg-surface-100","dark:hover:bg-surface-700","cursor-pointer","rounded"],[1,"text-2xl","mr-4",3,"ngClass"],[1,"text-surface-900","dark:text-surface-0","text-lg","font-medium"],[1,"text-surface-600","dark:text-surface-200","text-lg","font-semibold"],["pSortableColumn","name",1,"white-space-nowrap",2,"min-width","12rem"],["field","name"],["pSortableColumn","date",1,"white-space-nowrap",2,"min-width","12rem"],["field","date"],["pSortableColumn","fileSize",1,"white-space-nowrap",2,"min-width","12rem"],["field","fileSize"],[2,"width","10rem"],[1,"text-center"],["pButton","","pRipple","","text","","rounded","","icon","pi pi-times","severity","danger",1,"mr-2"],["pButton","","pRipple","","text","","rounded","","icon","pi pi-search"]],template:function(e,o){e&1&&(i(0,"div",2),g(1,Ue,17,8,"div",3),i(2,"div",4)(3,"div",5)(4,"div",6),p(5,"Account Storage"),n(),i(6,"div",7),s(7,"p-chart",8),n(),i(8,"div",9),s(9,"button",10)(10,"button",11),n()(),i(11,"div",5)(12,"div",6),p(13,"Categories"),n(),i(14,"ul",12)(15,"li",13)(16,"div",14),s(17,"i",15),i(18,"span",16),p(19,"Images"),n()(),i(20,"span",17),p(21,"85"),n()(),i(22,"li",18)(23,"div",14),s(24,"i",19),i(25,"span",16),p(26,"Documents"),n()(),i(27,"span",17),p(28,"231"),n()(),i(29,"li",20)(30,"div",14),s(31,"i",21),i(32,"span",16),p(33,"Videos"),n()(),i(34,"span",17),p(35,"40"),n()()()(),i(36,"div",22),s(37,"app-file-uploader"),n()(),i(38,"div",23)(39,"div",5)(40,"div",6),p(41,"Folders"),n(),i(42,"div",2),g(43,Me,8,3,"div",24),n()(),i(44,"div",5)(45,"div",6),p(46,"Recent Uploads"),n(),i(47,"p-table",25,0),g(49,Te,11,0,"ng-template",26)(50,Ve,15,5,"ng-template",27),n()()()()),e&2&&(a(),m("ngForOf",o.metrics),a(6),b(C(10,Ie)),m("plugins",o.chartPlugins)("data",o.fileChart)("options",o.fileChartOptions),a(36),m("ngForOf",o.folders),a(4),m("value",o.files)("rows",8)("paginator",!0))},dependencies:[U,A,I,J,q,H,Y,V,W,K,ie,Z,ee,te,k,T],encapsulation:2})};export{pe as Files};
