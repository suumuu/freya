import{a as f}from"./chunk-4RPAHO2B.js";import{a as A,c as O,d as E,e as T,f as B,j as c}from"./chunk-76Z42HQQ.js";import{a as H,b as J}from"./chunk-HXOE4ZZA.js";import"./chunk-U6W4ZOZQ.js";import"./chunk-X4BBC4A3.js";import"./chunk-FVBDSXJ7.js";import"./chunk-J44ZHNIW.js";import"./chunk-5YHCM6BB.js";import"./chunk-BODZH67C.js";import"./chunk-7UZYWCAJ.js";import{b as z,d as G}from"./chunk-MRXEPQQC.js";import"./chunk-YSV4FEGF.js";import{i as $,j as q}from"./chunk-WPF24WGD.js";import"./chunk-4O3FVBGX.js";import"./chunk-5IEWOUYS.js";import{ra as P}from"./chunk-U7ZBBLWD.js";import{i as V,j as D,k as N,t as j}from"./chunk-WLQFZU5C.js";import{$b as I,Lb as u,Na as o,Ta as g,Yb as w,Za as m,Zb as v,_b as _,db as x,fc as R,hc as d,ic as F,vb as s,wb as n,x as L,xb as p,yb as l}from"./chunk-TDJGN2RG.js";import"./chunk-GAL4ENT6.js";var Y=(r,a)=>({"bg-primary":r,"hover:surface-hover":a}),K=r=>({"text-white dark:text-surface-900":r}),Z=r=>({"dark:bg-primary-900 dark:text-white":r});function ee(r,a){if(r&1&&(n(0,"span",8),v(1),p()),r&2){let t=u().$implicit,i=u();s("ngClass",d(2,Z,i.url===t.routerLink)),o(),I(" ",t.badge," ")}}function te(r,a){if(r&1&&(n(0,"li",4),l(1,"i",5),n(2,"span",6),v(3),p(),x(4,ee,2,4,"span",7),p()),r&2){let t=a.$implicit,i=u();s("routerLinkActive","bg-primary")("routerLink",t==null?null:t.routerLink)("ngClass",F(9,Y,i.url===t.routerLink,i.url!==t.routerLink)),o(),w(t.icon||""),s("ngClass",d(12,K,i.url===t.routerLink)),o(),s("ngClass",d(14,K,i.url===t.routerLink)),o(),_(t.label),o(),s("ngIf",t.badge)}}var b=class r{constructor(a,t){this.router=a;this.mailService=t;this.url=this.router.url,this.mailSubscription=this.mailService.mails$.subscribe(i=>this.getBadgeValues(i)),this.routeSubscription=this.router.events.pipe(L(i=>i instanceof A)).subscribe(i=>{this.url=i.url})}items=[];badgeValues;mailSubscription;routeSubscription;url="";getBadgeValues(a){let t=[],i=[],y=[],S=[],k=[],C=[],M=[];for(let h=0;h<a.length;h++){let e=a[h];!e.archived&&!e.trash&&!e.spam&&!e.hasOwnProperty("sent")&&t.push(e),e.starred&&!e.archived&&!e.trash&&i.push(e),e.spam&&!e.archived&&!e.trash&&y.push(e),e.important&&!e.archived&&!e.trash&&S.push(e),e.archived&&!e.trash&&k.push(e),e.trash&&C.push(e),e.sent&&!e.archived&&!e.trash&&M.push(e)}this.badgeValues={inbox:t.length,starred:i.length,spam:y.length,important:S.length,archived:k.length,trash:C.length,sent:M.length},this.updateSidebar()}updateSidebar(){this.items=[{label:"Inbox",icon:"pi pi-inbox",badge:this.badgeValues.inbox,routerLink:"/apps/mail/inbox"},{label:"Starred",icon:"pi pi-star",badge:this.badgeValues.starred,routerLink:"/apps/mail/starred"},{label:"Spam",icon:"pi pi-ban",badge:this.badgeValues.spam,routerLink:"/apps/mail/spam"},{label:"Important",icon:"pi pi-bookmark",badge:this.badgeValues.important,routerLink:"/apps/mail/important"},{label:"Sent",icon:"pi pi-send",badge:this.badgeValues.sent,routerLink:"/apps/mail/sent"},{label:"Archived",icon:"pi pi-book",badge:this.badgeValues.archived,routerLink:"/apps/mail/archived"},{label:"Trash",icon:"pi pi-trash",badge:this.badgeValues.trash,routerLink:"/apps/mail/trash"}]}ngOnDestroy(){this.mailSubscription.unsubscribe(),this.routeSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||r)(g(E),g(f))};static \u0275cmp=m({type:r,selectors:[["app-mail-sidebar"]],decls:5,vars:2,consts:[["pButton","","pRipple","","label","Compose New","outlined","",1,"mb-8","w-full",3,"routerLink"],[1,"overflow-auto"],[1,"flex","flex-row","md:flex-col","gap-1","md:gap-2","list-none","m-0","p-0","overflow-auto"],["pRipple","","class","cursor-pointer select-none p-4 duration-150 rounded flex items-center justify-center md:justify-start md:flex-1 flex-auto",3,"routerLinkActive","routerLink","ngClass",4,"ngFor","ngForOf"],["pRipple","",1,"cursor-pointer","select-none","p-4","duration-150","rounded","flex","items-center","justify-center","md:justify-start","md:flex-1","flex-auto",3,"routerLinkActive","routerLink","ngClass"],[1,"md:mr-4","text-surface-600","dark:text-surface-200","duration-150","text-lg",3,"ngClass"],[1,"text-surface-900","dark:text-surface-0","font-medium","hidden","md:inline",3,"ngClass"],["class","ml-auto text-sm font-semibold bg-primary-50 text-primary-900 px-2 py-1 hidden md:inline-flex items-center justify-center","style","border-radius: 50%; min-width: 23px; height: auto; aspect-ratio: 1; padding: 0 6px;",3,"ngClass",4,"ngIf"],[1,"ml-auto","text-sm","font-semibold","bg-primary-50","text-primary-900","px-2","py-1","hidden","md:inline-flex","items-center","justify-center",2,"border-radius","50%","min-width","23px","height","auto","aspect-ratio","1","padding","0 6px",3,"ngClass"]],template:function(t,i){t&1&&(n(0,"div"),l(1,"button",0),n(2,"div",1)(3,"ul",2),x(4,te,5,16,"li",3),p()()()),t&2&&(o(),s("routerLink","/apps/mail/compose/"),o(3),s("ngForOf",i.items))},dependencies:[G,z,q,$,c,T,B,j,V,D,N],encapsulation:2})};var Q=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=m({type:r,selectors:[["ng-component"]],features:[R([P,f])],decls:7,vars:0,consts:[[1,"card"],[1,"flex","flex-col","md:flex-row","gap-6"],[1,"w-full","md:w-3/12","xl:w-2/12","xl:p-4"],[1,"md:w-9/12","xl:w-10/12","xl:p-4"]],template:function(t,i){t&1&&(l(0,"p-toast"),n(1,"div",0)(2,"div",1)(3,"div",2),l(4,"app-mail-sidebar"),p(),n(5,"div",3),l(6,"router-outlet"),p()()())},dependencies:[J,H,b,c,O],encapsulation:2})};export{Q as MailAppComponent};
